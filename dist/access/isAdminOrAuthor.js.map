{"version":3,"sources":["../../src/access/isAdminOrAuthor.ts"],"sourcesContent":["import type { Access, FieldAccess } from 'payload'\nimport { checkRole } from './checkRole.js'\n\n/**\n * Access control that allows users with admin role or author role\n * @returns True if the user is an admin or author, false otherwise\n */\nexport const isAdminOrAuthor: Access = ({ req: { user } }) => {\n  if (user && checkRole(['admin', 'author'], user)) {\n    return true\n  }\n\n  return false\n}\n\n/**\n * Access control that allows users with admin role or author role\n * @returns True if the user is an admin or author, false otherwise\n */\nexport const isAdminOrAuthorFieldLevel: FieldAccess = ({ req: { user } }) => {\n  if (user && checkRole(['admin', 'author'], user)) {\n    return true\n  }\n\n  return false\n}\n"],"names":["checkRole","isAdminOrAuthor","req","user","isAdminOrAuthorFieldLevel"],"mappings":"AACA,SAASA,SAAS,QAAQ,iBAAgB;AAE1C;;;CAGC,GACD,OAAO,MAAMC,kBAA0B,CAAC,EAAEC,KAAK,EAAEC,IAAI,EAAE,EAAE;IACvD,IAAIA,QAAQH,UAAU;QAAC;QAAS;KAAS,EAAEG,OAAO;QAChD,OAAO;IACT;IAEA,OAAO;AACT,EAAC;AAED;;;CAGC,GACD,OAAO,MAAMC,4BAAyC,CAAC,EAAEF,KAAK,EAAEC,IAAI,EAAE,EAAE;IACtE,IAAIA,QAAQH,UAAU;QAAC;QAAS;KAAS,EAAEG,OAAO;QAChD,OAAO;IACT;IAEA,OAAO;AACT,EAAC"}