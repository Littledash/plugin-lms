{"version":3,"sources":["../../src/access/isAuthor.ts"],"sourcesContent":["import type { Access, FieldAccess, User } from 'payload'\n\nimport { checkRole } from './checkRole.js'\n\n/**\n * Access control that only allows users with author role\n * @returns True if the user has author role, false otherwise\n */\nexport const isAuthor: Access = ({ req: { user } }) => {\n  return Boolean(user && checkRole(['author'], user))\n}\n\nexport const isAuthorFieldLevel: FieldAccess<{ id: string }, User> = ({ req: { user } }) => {\n  // Return true or false based on if the user has an admin role\n  return Boolean(checkRole(['author'], user))\n}\n"],"names":["checkRole","isAuthor","req","user","Boolean","isAuthorFieldLevel"],"mappings":"AAEA,SAASA,SAAS,QAAQ,iBAAgB;AAE1C;;;CAGC,GACD,OAAO,MAAMC,WAAmB,CAAC,EAAEC,KAAK,EAAEC,IAAI,EAAE,EAAE;IAChD,OAAOC,QAAQD,QAAQH,UAAU;QAAC;KAAS,EAAEG;AAC/C,EAAC;AAED,OAAO,MAAME,qBAAwD,CAAC,EAAEH,KAAK,EAAEC,IAAI,EAAE,EAAE;IACrF,8DAA8D;IAC9D,OAAOC,QAAQJ,UAAU;QAAC;KAAS,EAAEG;AACvC,EAAC"}