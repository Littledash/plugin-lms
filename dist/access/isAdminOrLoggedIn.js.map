{"version":3,"sources":["../../src/access/isAdminOrLoggedIn.ts"],"sourcesContent":["import type { Access, AccessArgs, FieldAccess } from 'payload'\n\nimport type { User } from 'payload'\n\nimport { checkRole } from './checkRole.js'\n\n/**\n * Access control that allows users with admin role or any logged-in user\n * @returns True if the user is an admin or is logged in, false otherwise\n */\nexport const isAdminOrLoggedIn: Access = ({ req: { user } }: AccessArgs<User>) => {\n  if (user && checkRole(['admin'], user)) {\n    return true\n  }\n\n  return Boolean(user)\n}\n\nexport const isAdminOrLoggedInFieldLevel: FieldAccess<{ id: string }, User> = ({\n  req: { user },\n  id,\n}) => {\n  if (checkRole(['admin'], user)) return true\n  return false\n}\n"],"names":["checkRole","isAdminOrLoggedIn","req","user","Boolean","isAdminOrLoggedInFieldLevel","id"],"mappings":"AAIA,SAASA,SAAS,QAAQ,iBAAgB;AAE1C;;;CAGC,GACD,OAAO,MAAMC,oBAA4B,CAAC,EAAEC,KAAK,EAAEC,IAAI,EAAE,EAAoB;IAC3E,IAAIA,QAAQH,UAAU;QAAC;KAAQ,EAAEG,OAAO;QACtC,OAAO;IACT;IAEA,OAAOC,QAAQD;AACjB,EAAC;AAED,OAAO,MAAME,8BAAiE,CAAC,EAC7EH,KAAK,EAAEC,IAAI,EAAE,EACbG,EAAE,EACH;IACC,IAAIN,UAAU;QAAC;KAAQ,EAAEG,OAAO,OAAO;IACvC,OAAO;AACT,EAAC"}