{"version":3,"sources":["../../../src/ui/SlugInput/formatSlug.ts"],"sourcesContent":["import type { FieldHook } from 'payload'\n\nexport const formatSlug = (val: string): string =>\n  val\n    .replace(/ /g, '-')\n    .replace(/[^\\w-]+/g, '')\n    .toLowerCase()\n\nexport const formatSlugHook =\n  (fallback: string): FieldHook =>\n  ({ data, operation, value }) => {\n    if (typeof value === 'string') {\n      return formatSlug(value)\n    }\n\n    if (operation === 'create' || !data?.slug) {\n      const fallbackData = data?.[fallback] || data?.[fallback]\n\n      if (fallbackData && typeof fallbackData === 'string') {\n        return formatSlug(fallbackData)\n      }\n    }\n\n    return value\n  }\n"],"names":["formatSlug","val","replace","toLowerCase","formatSlugHook","fallback","data","operation","value","slug","fallbackData"],"mappings":"AAEA,OAAO,MAAMA,aAAa,CAACC,MACzBA,IACGC,OAAO,CAAC,MAAM,KACdA,OAAO,CAAC,YAAY,IACpBC,WAAW,GAAE;AAElB,OAAO,MAAMC,iBACX,CAACC,WACD,CAAC,EAAEC,IAAI,EAAEC,SAAS,EAAEC,KAAK,EAAE;QACzB,IAAI,OAAOA,UAAU,UAAU;YAC7B,OAAOR,WAAWQ;QACpB;QAEA,IAAID,cAAc,YAAY,CAACD,MAAMG,MAAM;YACzC,MAAMC,eAAeJ,MAAM,CAACD,SAAS,IAAIC,MAAM,CAACD,SAAS;YAEzD,IAAIK,gBAAgB,OAAOA,iBAAiB,UAAU;gBACpD,OAAOV,WAAWU;YACpB;QACF;QAEA,OAAOF;IACT,EAAC"}