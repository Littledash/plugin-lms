{"version":3,"sources":["../../../src/ui/PriceInput/utilities.ts"],"sourcesContent":["import type { Currency } from '../../types.js'\n\nexport const currency = { code: 'AUD', decimals: 2, label: 'Australian Dollar', symbol: '$' }\n\n/**\n * Convert display value with decimal point to base value (e.g., $25.00 to 2500)\n */\nexport const convertToBaseValue = ({\n  currency,\n  displayValue,\n}: {\n  currency: Currency\n  displayValue: string\n}): number => {\n  if (!currency) {\n    return parseFloat(displayValue)\n  }\n\n  // Remove currency symbol and any non-numeric characters except decimal\n  const cleanValue = displayValue.replace(currency.symbol, '').replace(/[^0-9.]/g, '')\n\n  // Parse the clean value to a float\n  const floatValue = parseFloat(cleanValue || '0')\n\n  // Convert to the base value (e.g., cents for USD)\n  return Math.round(floatValue * Math.pow(10, currency.decimals))\n}\n\n/**\n * Convert base value to display value with decimal point (e.g., 2500 to $25.00)\n */\nexport const convertFromBaseValue = ({\n  baseValue,\n  currency,\n}: {\n  baseValue: number\n  currency: Currency\n}): string => {\n  if (!currency) {\n    return baseValue.toString()\n  }\n\n  // Convert from base value (e.g., cents) to decimal value (e.g., dollars)\n  const decimalValue = baseValue / Math.pow(10, currency.decimals)\n\n  // Format with the correct number of decimal places\n  return decimalValue.toFixed(currency.decimals)\n}\n"],"names":["currency","code","decimals","label","symbol","convertToBaseValue","displayValue","parseFloat","cleanValue","replace","floatValue","Math","round","pow","convertFromBaseValue","baseValue","toString","decimalValue","toFixed"],"mappings":"AAEA,OAAO,MAAMA,WAAW;IAAEC,MAAM;IAAOC,UAAU;IAAGC,OAAO;IAAqBC,QAAQ;AAAI,EAAC;AAE7F;;CAEC,GACD,OAAO,MAAMC,qBAAqB,CAAC,EACjCL,QAAQ,EACRM,YAAY,EAIb;IACC,IAAI,CAACN,UAAU;QACb,OAAOO,WAAWD;IACpB;IAEA,uEAAuE;IACvE,MAAME,aAAaF,aAAaG,OAAO,CAACT,SAASI,MAAM,EAAE,IAAIK,OAAO,CAAC,YAAY;IAEjF,mCAAmC;IACnC,MAAMC,aAAaH,WAAWC,cAAc;IAE5C,kDAAkD;IAClD,OAAOG,KAAKC,KAAK,CAACF,aAAaC,KAAKE,GAAG,CAAC,IAAIb,SAASE,QAAQ;AAC/D,EAAC;AAED;;CAEC,GACD,OAAO,MAAMY,uBAAuB,CAAC,EACnCC,SAAS,EACTf,QAAQ,EAIT;IACC,IAAI,CAACA,UAAU;QACb,OAAOe,UAAUC,QAAQ;IAC3B;IAEA,yEAAyE;IACzE,MAAMC,eAAeF,YAAYJ,KAAKE,GAAG,CAAC,IAAIb,SAASE,QAAQ;IAE/D,mDAAmD;IACnD,OAAOe,aAAaC,OAAO,CAAClB,SAASE,QAAQ;AAC/C,EAAC"}