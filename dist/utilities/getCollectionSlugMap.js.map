{"version":3,"sources":["../../src/utilities/getCollectionSlugMap.ts"],"sourcesContent":["import type { CollectionSlugMap, SanitizedLMSPluginConfig } from '../types.js'\n\ntype Props = {\n  sanitizedPluginConfig: SanitizedLMSPluginConfig\n}\n/**\n * Generates a map of collection slugs based on the sanitized plugin configuration.\n * Takes into consideration any collection overrides provided in the plugin.\n */\nexport const getCollectionSlugMap = ({ sanitizedPluginConfig }: Props): CollectionSlugMap => {\n  const defaultSlugMap: CollectionSlugMap = {\n    addresses: 'addresses',\n    courses: 'courses',\n    lessons: 'lessons',\n    quizzes: 'quizzes',\n    categories: 'categories',\n    tags: 'tags',\n    certificates: 'certificates',\n    questions: 'questions',\n    topics: 'topics',\n    media: 'media',\n    students: 'users',\n  }\n  const collectionSlugsMap: CollectionSlugMap = {\n    ...defaultSlugMap,\n  }\n\n  //   if (typeof sanitizedPluginConfig.students === 'object' && sanitizedPluginConfig.students.studentsCollection?.slug) {\n  //     collectionSlugsMap.students = sanitizedPluginConfig.students.studentsCollection.slug\n\n  //     if (\n  //       typeof sanitizedPluginConfig.addresses === 'object' &&\n  //       sanitizedPluginConfig.addresses.addressesCollection?.slug\n  //     ) {\n  //       collectionSlugsMap.addresses = sanitizedPluginConfig.addresses.addressesCollection.slug\n  //     }\n  //   }\n\n  if (\n    typeof sanitizedPluginConfig.courses === 'object' &&\n    sanitizedPluginConfig.courses.coursesCollection?.slug\n  ) {\n    collectionSlugsMap.courses = sanitizedPluginConfig.courses.coursesCollection.slug\n  }\n  if (\n    typeof sanitizedPluginConfig.lessons === 'object' &&\n    sanitizedPluginConfig.lessons.lessonsCollection?.slug\n  ) {\n    collectionSlugsMap.lessons = sanitizedPluginConfig.lessons.lessonsCollection.slug\n  }\n\n  if (\n    typeof sanitizedPluginConfig.quizzes === 'object' &&\n    sanitizedPluginConfig.quizzes.quizzesCollection?.slug\n  ) {\n    collectionSlugsMap.quizzes = sanitizedPluginConfig.quizzes.quizzesCollection.slug\n  }\n\n  if (\n    typeof sanitizedPluginConfig.certificates === 'object' &&\n    sanitizedPluginConfig.certificates.certificatesCollection?.slug\n  ) {\n    collectionSlugsMap.certificates = sanitizedPluginConfig.certificates.certificatesCollection.slug\n  }\n\n  if (\n    typeof sanitizedPluginConfig.questions === 'object' &&\n    sanitizedPluginConfig.questions.questionsCollection?.slug\n  ) {\n    collectionSlugsMap.questions = sanitizedPluginConfig.questions.questionsCollection.slug\n  }\n\n  if (\n    typeof sanitizedPluginConfig.topics === 'object' &&\n    sanitizedPluginConfig.topics.topicsCollection?.slug\n  ) {\n    collectionSlugsMap.topics = sanitizedPluginConfig.topics.topicsCollection.slug\n  }\n\n  if (\n    typeof sanitizedPluginConfig.categories === 'object' &&\n    sanitizedPluginConfig.categories.categoriesCollection?.slug\n  ) {\n    collectionSlugsMap.categories = sanitizedPluginConfig.categories.categoriesCollection.slug\n  }\n\n  if (\n    typeof sanitizedPluginConfig.tags === 'object' &&\n    sanitizedPluginConfig.tags.tagsCollection?.slug\n  ) {\n    collectionSlugsMap.tags = sanitizedPluginConfig.tags.tagsCollection.slug\n  }\n\n  return collectionSlugsMap\n}\n"],"names":["getCollectionSlugMap","sanitizedPluginConfig","defaultSlugMap","addresses","courses","lessons","quizzes","categories","tags","certificates","questions","topics","media","students","collectionSlugsMap","coursesCollection","slug","lessonsCollection","quizzesCollection","certificatesCollection","questionsCollection","topicsCollection","categoriesCollection","tagsCollection"],"mappings":"AAKA;;;CAGC,GACD,OAAO,MAAMA,uBAAuB,CAAC,EAAEC,qBAAqB,EAAS;IACnE,MAAMC,iBAAoC;QACxCC,WAAW;QACXC,SAAS;QACTC,SAAS;QACTC,SAAS;QACTC,YAAY;QACZC,MAAM;QACNC,cAAc;QACdC,WAAW;QACXC,QAAQ;QACRC,OAAO;QACPC,UAAU;IACZ;IACA,MAAMC,qBAAwC;QAC5C,GAAGZ,cAAc;IACnB;IAEA,yHAAyH;IACzH,2FAA2F;IAE3F,WAAW;IACX,+DAA+D;IAC/D,kEAAkE;IAClE,UAAU;IACV,gGAAgG;IAChG,QAAQ;IACR,MAAM;IAEN,IACE,OAAOD,sBAAsBG,OAAO,KAAK,YACzCH,sBAAsBG,OAAO,CAACW,iBAAiB,EAAEC,MACjD;QACAF,mBAAmBV,OAAO,GAAGH,sBAAsBG,OAAO,CAACW,iBAAiB,CAACC,IAAI;IACnF;IACA,IACE,OAAOf,sBAAsBI,OAAO,KAAK,YACzCJ,sBAAsBI,OAAO,CAACY,iBAAiB,EAAED,MACjD;QACAF,mBAAmBT,OAAO,GAAGJ,sBAAsBI,OAAO,CAACY,iBAAiB,CAACD,IAAI;IACnF;IAEA,IACE,OAAOf,sBAAsBK,OAAO,KAAK,YACzCL,sBAAsBK,OAAO,CAACY,iBAAiB,EAAEF,MACjD;QACAF,mBAAmBR,OAAO,GAAGL,sBAAsBK,OAAO,CAACY,iBAAiB,CAACF,IAAI;IACnF;IAEA,IACE,OAAOf,sBAAsBQ,YAAY,KAAK,YAC9CR,sBAAsBQ,YAAY,CAACU,sBAAsB,EAAEH,MAC3D;QACAF,mBAAmBL,YAAY,GAAGR,sBAAsBQ,YAAY,CAACU,sBAAsB,CAACH,IAAI;IAClG;IAEA,IACE,OAAOf,sBAAsBS,SAAS,KAAK,YAC3CT,sBAAsBS,SAAS,CAACU,mBAAmB,EAAEJ,MACrD;QACAF,mBAAmBJ,SAAS,GAAGT,sBAAsBS,SAAS,CAACU,mBAAmB,CAACJ,IAAI;IACzF;IAEA,IACE,OAAOf,sBAAsBU,MAAM,KAAK,YACxCV,sBAAsBU,MAAM,CAACU,gBAAgB,EAAEL,MAC/C;QACAF,mBAAmBH,MAAM,GAAGV,sBAAsBU,MAAM,CAACU,gBAAgB,CAACL,IAAI;IAChF;IAEA,IACE,OAAOf,sBAAsBM,UAAU,KAAK,YAC5CN,sBAAsBM,UAAU,CAACe,oBAAoB,EAAEN,MACvD;QACAF,mBAAmBP,UAAU,GAAGN,sBAAsBM,UAAU,CAACe,oBAAoB,CAACN,IAAI;IAC5F;IAEA,IACE,OAAOf,sBAAsBO,IAAI,KAAK,YACtCP,sBAAsBO,IAAI,CAACe,cAAc,EAAEP,MAC3C;QACAF,mBAAmBN,IAAI,GAAGP,sBAAsBO,IAAI,CAACe,cAAc,CAACP,IAAI;IAC1E;IAEA,OAAOF;AACT,EAAC"}