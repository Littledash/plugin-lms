{"version":3,"sources":["../../src/utilities/getCollectionSlugMap.ts"],"sourcesContent":["import type { CollectionSlugMap, SanitizedLMSPluginConfig } from '../types.js'\n\ntype Props = {\n  sanitizedPluginConfig: SanitizedLMSPluginConfig\n}\n/**\n * Generates a map of collection slugs based on the sanitized plugin configuration.\n * Takes into consideration any collection overrides provided in the plugin.\n */\nexport const getCollectionSlugMap = ({ sanitizedPluginConfig }: Props): CollectionSlugMap => {\n  const defaultSlugMap: CollectionSlugMap = {\n    addresses: 'addresses',\n    courses: 'courses',\n    groups: 'groups',\n    lessons: 'lessons',\n    quizzes: 'quizzes',\n    categories: 'categories',\n    tags: 'tags',\n    certificates: 'certificates',\n    questions: 'questions',\n    topics: 'topics',\n    media: 'media',\n    students: 'users',\n  }\n  const collectionSlugsMap: CollectionSlugMap = {\n    ...defaultSlugMap,\n  }\n\n  //   if (typeof sanitizedPluginConfig.students === 'object' && sanitizedPluginConfig.students.studentsCollection?.slug) {\n  //     collectionSlugsMap.students = sanitizedPluginConfig.students.studentsCollection.slug\n\n  //     if (\n  //       typeof sanitizedPluginConfig.addresses === 'object' &&\n  //       sanitizedPluginConfig.addresses.addressesCollection?.slug\n  //     ) {\n  //       collectionSlugsMap.addresses = sanitizedPluginConfig.addresses.addressesCollection.slug\n  //     }\n  //   }\n\n  if (\n    typeof sanitizedPluginConfig.courses === 'object' &&\n    sanitizedPluginConfig.courses.coursesCollection?.slug\n  ) {\n    collectionSlugsMap.courses = sanitizedPluginConfig.courses.coursesCollection.slug\n  }\n  if (\n    typeof sanitizedPluginConfig.groups === 'object' &&\n    sanitizedPluginConfig.groups.groupsCollection?.slug\n  ) {\n    collectionSlugsMap.groups = sanitizedPluginConfig.groups.groupsCollection.slug\n  }\n  if (\n    typeof sanitizedPluginConfig.lessons === 'object' &&\n    sanitizedPluginConfig.lessons.lessonsCollection?.slug\n  ) {\n    collectionSlugsMap.lessons = sanitizedPluginConfig.lessons.lessonsCollection.slug\n  }\n\n  if (\n    typeof sanitizedPluginConfig.quizzes === 'object' &&\n    sanitizedPluginConfig.quizzes.quizzesCollection?.slug\n  ) {\n    collectionSlugsMap.quizzes = sanitizedPluginConfig.quizzes.quizzesCollection.slug\n  }\n\n  if (\n    typeof sanitizedPluginConfig.certificates === 'object' &&\n    sanitizedPluginConfig.certificates.certificatesCollection?.slug\n  ) {\n    collectionSlugsMap.certificates = sanitizedPluginConfig.certificates.certificatesCollection.slug\n  }\n\n  if (\n    typeof sanitizedPluginConfig.questions === 'object' &&\n    sanitizedPluginConfig.questions.questionsCollection?.slug\n  ) {\n    collectionSlugsMap.questions = sanitizedPluginConfig.questions.questionsCollection.slug\n  }\n\n  if (\n    typeof sanitizedPluginConfig.topics === 'object' &&\n    sanitizedPluginConfig.topics.topicsCollection?.slug\n  ) {\n    collectionSlugsMap.topics = sanitizedPluginConfig.topics.topicsCollection.slug\n  }\n\n  if (\n    typeof sanitizedPluginConfig.categories === 'object' &&\n    sanitizedPluginConfig.categories.categoriesCollection?.slug\n  ) {\n    collectionSlugsMap.categories = sanitizedPluginConfig.categories.categoriesCollection.slug\n  }\n\n  if (\n    typeof sanitizedPluginConfig.tags === 'object' &&\n    sanitizedPluginConfig.tags.tagsCollection?.slug\n  ) {\n    collectionSlugsMap.tags = sanitizedPluginConfig.tags.tagsCollection.slug\n  }\n\n  return collectionSlugsMap\n}\n"],"names":["getCollectionSlugMap","sanitizedPluginConfig","defaultSlugMap","addresses","courses","groups","lessons","quizzes","categories","tags","certificates","questions","topics","media","students","collectionSlugsMap","coursesCollection","slug","groupsCollection","lessonsCollection","quizzesCollection","certificatesCollection","questionsCollection","topicsCollection","categoriesCollection","tagsCollection"],"mappings":"AAKA;;;CAGC,GACD,OAAO,MAAMA,uBAAuB,CAAC,EAAEC,qBAAqB,EAAS;IACnE,MAAMC,iBAAoC;QACxCC,WAAW;QACXC,SAAS;QACTC,QAAQ;QACRC,SAAS;QACTC,SAAS;QACTC,YAAY;QACZC,MAAM;QACNC,cAAc;QACdC,WAAW;QACXC,QAAQ;QACRC,OAAO;QACPC,UAAU;IACZ;IACA,MAAMC,qBAAwC;QAC5C,GAAGb,cAAc;IACnB;IAEA,yHAAyH;IACzH,2FAA2F;IAE3F,WAAW;IACX,+DAA+D;IAC/D,kEAAkE;IAClE,UAAU;IACV,gGAAgG;IAChG,QAAQ;IACR,MAAM;IAEN,IACE,OAAOD,sBAAsBG,OAAO,KAAK,YACzCH,sBAAsBG,OAAO,CAACY,iBAAiB,EAAEC,MACjD;QACAF,mBAAmBX,OAAO,GAAGH,sBAAsBG,OAAO,CAACY,iBAAiB,CAACC,IAAI;IACnF;IACA,IACE,OAAOhB,sBAAsBI,MAAM,KAAK,YACxCJ,sBAAsBI,MAAM,CAACa,gBAAgB,EAAED,MAC/C;QACAF,mBAAmBV,MAAM,GAAGJ,sBAAsBI,MAAM,CAACa,gBAAgB,CAACD,IAAI;IAChF;IACA,IACE,OAAOhB,sBAAsBK,OAAO,KAAK,YACzCL,sBAAsBK,OAAO,CAACa,iBAAiB,EAAEF,MACjD;QACAF,mBAAmBT,OAAO,GAAGL,sBAAsBK,OAAO,CAACa,iBAAiB,CAACF,IAAI;IACnF;IAEA,IACE,OAAOhB,sBAAsBM,OAAO,KAAK,YACzCN,sBAAsBM,OAAO,CAACa,iBAAiB,EAAEH,MACjD;QACAF,mBAAmBR,OAAO,GAAGN,sBAAsBM,OAAO,CAACa,iBAAiB,CAACH,IAAI;IACnF;IAEA,IACE,OAAOhB,sBAAsBS,YAAY,KAAK,YAC9CT,sBAAsBS,YAAY,CAACW,sBAAsB,EAAEJ,MAC3D;QACAF,mBAAmBL,YAAY,GAAGT,sBAAsBS,YAAY,CAACW,sBAAsB,CAACJ,IAAI;IAClG;IAEA,IACE,OAAOhB,sBAAsBU,SAAS,KAAK,YAC3CV,sBAAsBU,SAAS,CAACW,mBAAmB,EAAEL,MACrD;QACAF,mBAAmBJ,SAAS,GAAGV,sBAAsBU,SAAS,CAACW,mBAAmB,CAACL,IAAI;IACzF;IAEA,IACE,OAAOhB,sBAAsBW,MAAM,KAAK,YACxCX,sBAAsBW,MAAM,CAACW,gBAAgB,EAAEN,MAC/C;QACAF,mBAAmBH,MAAM,GAAGX,sBAAsBW,MAAM,CAACW,gBAAgB,CAACN,IAAI;IAChF;IAEA,IACE,OAAOhB,sBAAsBO,UAAU,KAAK,YAC5CP,sBAAsBO,UAAU,CAACgB,oBAAoB,EAAEP,MACvD;QACAF,mBAAmBP,UAAU,GAAGP,sBAAsBO,UAAU,CAACgB,oBAAoB,CAACP,IAAI;IAC5F;IAEA,IACE,OAAOhB,sBAAsBQ,IAAI,KAAK,YACtCR,sBAAsBQ,IAAI,CAACgB,cAAc,EAAER,MAC3C;QACAF,mBAAmBN,IAAI,GAAGR,sBAAsBQ,IAAI,CAACgB,cAAc,CAACR,IAAI;IAC1E;IAEA,OAAOF;AACT,EAAC"}